"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs");
const templates = {};
let handlebars = null;
function template(path, context) {
    let template = templates[path];
    if (!template) {
        template = fs.readFileSync(path, 'utf-8');
        templates[path] = template;
    }
    if (!handlebars) {
        try {
            handlebars = require('handlebars');
        }
        catch (e) {
            throw new Error('Cannot find module handlebars. To use this feature you must install it `npm install handlebars`');
        }
    }
    return handlebars.compile(template)(context);
}
exports.template = template;
